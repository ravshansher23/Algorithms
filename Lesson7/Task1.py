from random import randint
from timeit import timeit


def bubble_sort(lst_obj):
    n = 1
    while n < len(lst_obj):
        for i in range(len(lst_obj)-n):
            if lst_obj[i] < lst_obj[i+1]:
                lst_obj[i], lst_obj[i+1] = lst_obj[i+1], lst_obj[i]
        n += 1
    return lst_obj

def updated_bubble_sort(lst_obj):
    i = 1
    while i < (len(lst_obj) - 1):
        if lst_obj[i] > lst_obj[i+1]:
            i += 1
        else:
            return bubble_sort(lst_obj)

    return lst_obj


sorted_list = [98, 67, 54, 52, 44, 22, 21, 13, 9, -1]
print(sorted_list)
print(timeit("updated_bubble_sort(sorted_list[:])", globals=globals(), number=1000))
print(timeit("bubble_sort(sorted_list[:])", globals=globals(), number=1000))

orig_list = [randint(-100, 100) for _ in range(10)]

print(timeit("updated_bubble_sort(orig_list[:])", globals=globals(), number=1000))
print(timeit("bubble_sort(orig_list[:])", globals=globals(), number=1000))

sorted_list2 = [randint(-100, 100) for _ in range(100)]
sorted_list2 = bubble_sort(sorted_list2)
print(sorted_list2)
orig_list2 = [randint(-100, 100) for _ in range(100)]
print(orig_list2)

print(timeit("updated_bubble_sort(sorted_list2[:])", globals=globals(), number=1000))
print(timeit("bubble_sort(sorted_list2[:])", globals=globals(), number=1000))
print(timeit("updated_bubble_sort(orig_list2[:])", globals=globals(), number=1000))
print(timeit("bubble_sort(orig_list2[:])", globals=globals(), number=1000))

sorted_list3 = [randint(-100, 100) for _ in range(1000)]
sorted_list3 = bubble_sort(sorted_list3)
print(sorted_list3)
orig_list3 = [randint(-100, 100) for _ in range(1000)]
print(orig_list3)

print(timeit("updated_bubble_sort(sorted_list3[:])", globals=globals(), number=1000))
print(timeit("bubble_sort(sorted_list3[:])", globals=globals(), number=1000))
print(timeit("updated_bubble_sort(orig_list3[:])", globals=globals(), number=1000))
print(timeit("bubble_sort(orig_list3[:])", globals=globals(), number=1000))

# Можно сделать вывод, что даже если список отсортирован, при большом кол-ве элементов в списке время выполнения практически одинаковое.
# Доработка эффективна при малом кол-ве элементов списка.
#
# [98, 67, 54, 52, 44, 22, 21, 13, 9, -1]
# 0.0008731999841984361
# 0.0037604999961331487
# 0.005106099997647107
# 0.004997299984097481
# [100, 99, 96, 94, 93, 90, 90, 88, 85, 85, 80, 79, 77, 76, 72, 69, 69, 67, 65, 63, 61, 59, 54, 54, 50, 46, 42, 41, 40, 40, 39, 35, 34, 32, 31, 30, 30, 30, 29, 22, 19, 13, 12, 7, 4, 2, 2, -1, -2, -4, -7, -8, -8, -10, -10, -11, -13, -13, -15, -15, -18, -18, -23, -24, -33, -33, -35, -38, -39, -40, -44, -46, -49, -49, -51, -52, -56, -60, -62, -62, -64, -66, -68, -69, -69, -71, -72, -75, -78, -78, -86, -87, -87, -87, -88, -88, -91, -96, -98, -100]
# [89, -75, -16, 63, -42, -26, -35, -44, 68, -92, 55, 72, -9, 75, 68, -69, -26, 77, -51, -54, 67, -38, 4, -52, 44, 71, 27, 74, -24, -9, 100, 14, -95, -6, -30, -19, 33, 22, -63, 94, -79, -100, -3, -49, -98, 23, -9, 91, 24, -9, 58, 70, 88, 26, -60, 89, 27, -57, 16, 65, 48, -10, -13, 30, 78, 73, -54, 23, 97, 28, 49, 60, -71, 74, 45, 24, -18, -58, 50, -87, -96, -100, 11, -14, -7, -65, -58, -12, 28, 2, -94, -73, -57, -8, -78, -41, 60, 59, -45, 46]
# 0.2242301999940537
# 0.22421960000065155
# 0.364775499998359
# 0.3696128999872599
# [100, 100, 100, 100, 99, 99, 98, 98, 98, 97, 97, 96, 96, 96, 96, 96, 96, 95, 95, 95, 95, 95, 94, 94, 94, 94, 94, 93, 93, 93, 93, 93, 92, 92, 92, 92, 92, 92, 92, 91, 91, 91, 91, 91, 91, 91, 90, 90, 88, 88, 88, 88, 88, 87, 87, 87, 87, 87, 86, 86, 86, 85, 85, 85, 85, 85, 84, 84, 84, 84, 84, 84, 84, 83, 83, 83, 83, 83, 82, 82, 82, 82, 82, 82, 82, 82, 81, 81, 81, 81, 81, 80, 80, 80, 79, 79, 79, 79, 78, 78, 78, 78, 78, 78, 78, 78, 78, 78, 77, 77, 77, 77, 77, 77, 77, 77, 77, 77, 76, 76, 76, 75, 75, 75, 75, 74, 74, 74, 74, 74, 73, 73, 73, 73, 73, 72, 72, 72, 72, 72, 72, 72, 72, 72, 71, 71, 71, 71, 71, 71, 71, 70, 70, 70, 70, 69, 69, 68, 68, 68, 68, 68, 68, 67, 67, 67, 67, 67, 67, 67, 66, 66, 66, 66, 65, 65, 65, 65, 64, 64, 64, 64, 64, 64, 63, 63, 63, 63, 63, 63, 62, 62, 62, 62, 62, 62, 62, 62, 61, 61, 61, 60, 60, 60, 60, 60, 60, 60, 60, 59, 59, 59, 59, 58, 58, 58, 57, 57, 57, 57, 57, 56, 56, 56, 56, 56, 56, 56, 55, 55, 55, 55, 55, 55, 54, 54, 54, 54, 54, 54, 54, 53, 53, 53, 53, 53, 53, 53, 52, 52, 52, 52, 52, 51, 51, 51, 51, 51, 51, 51, 51, 50, 50, 50, 50, 49, 49, 49, 49, 49, 49, 49, 49, 49, 49, 48, 48, 48, 48, 47, 47, 47, 47, 46, 46, 46, 46, 46, 46, 46, 46, 45, 45, 45, 45, 45, 45, 44, 44, 44, 44, 43, 43, 43, 43, 43, 42, 42, 42, 42, 42, 42, 41, 41, 41, 41, 41, 41, 41, 40, 40, 40, 40, 40, 40, 39, 38, 38, 38, 38, 38, 38, 38, 38, 37, 37, 37, 37, 37, 36, 36, 36, 36, 36, 35, 35, 35, 35, 34, 34, 34, 33, 33, 33, 33, 33, 32, 32, 32, 32, 32, 32, 31, 30, 30, 30, 30, 30, 29, 29, 29, 29, 29, 28, 28, 28, 28, 28, 27, 27, 27, 27, 26, 26, 26, 26, 26, 25, 25, 25, 25, 25, 25, 25, 24, 24, 24, 24, 24, 23, 23, 23, 22, 22, 22, 22, 22, 22, 21, 21, 21, 21, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 19, 19, 19, 19, 19, 18, 18, 18, 18, 18, 17, 17, 17, 16, 16, 16, 15, 15, 14, 14, 14, 14, 14, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 12, 11, 11, 11, 10, 10, 9, 9, 9, 9, 9, 9, 9, 9, 8, 8, 8, 8, 8, 7, 7, 7, 7, 7, 7, 7, 7, 7, 6, 6, 6, 6, 6, 5, 5, 4, 4, 4, 4, 4, 3, 3, 3, 3, 3, 2, 2, 2, 2, 2, 1, 1, 1, 1, 1, 0, -1, -1, -1, -1, -1, -1, -2, -2, -2, -2, -2, -3, -3, -3, -3, -4, -4, -5, -5, -5, -6, -6, -6, -6, -6, -6, -6, -7, -7, -7, -7, -7, -8, -8, -8, -8, -8, -9, -9, -10, -10, -10, -10, -10, -10, -10, -10, -11, -11, -11, -11, -11, -12, -12, -13, -13, -13, -13, -13, -13, -14, -14, -14, -14, -15, -15, -15, -15, -15, -16, -16, -16, -17, -17, -17, -17, -18, -18, -18, -18, -19, -19, -19, -19, -19, -20, -20, -20, -20, -21, -21, -21, -21, -21, -22, -22, -22, -22, -22, -22, -22, -23, -23, -23, -23, -23, -23, -23, -24, -24, -24, -24, -24, -24, -24, -25, -25, -25, -25, -25, -25, -25, -25, -25, -26, -26, -26, -26, -27, -27, -27, -27, -27, -28, -28, -28, -28, -28, -28, -28, -29, -29, -29, -29, -30, -31, -31, -31, -31, -31, -31, -31, -32, -32, -32, -32, -32, -33, -33, -33, -33, -33, -33, -33, -34, -34, -34, -34, -34, -34, -34, -34, -35, -35, -35, -35, -35, -35, -35, -36, -36, -36, -36, -36, -37, -37, -38, -38, -38, -38, -38, -38, -39, -39, -39, -39, -40, -40, -41, -41, -41, -41, -41, -42, -42, -42, -43, -43, -43, -44, -44, -44, -45, -45, -45, -45, -45, -45, -45, -46, -46, -46, -46, -46, -47, -47, -47, -47, -48, -48, -48, -48, -49, -49, -49, -49, -50, -50, -50, -50, -50, -51, -51, -51, -51, -51, -51, -51, -51, -51, -52, -52, -52, -52, -52, -52, -53, -53, -53, -54, -54, -54, -55, -55, -55, -56, -56, -56, -56, -57, -57, -57, -57, -57, -57, -59, -59, -59, -60, -60, -60, -60, -61, -61, -61, -61, -62, -63, -63, -63, -63, -63, -63, -63, -63, -64, -64, -64, -64, -64, -64, -64, -64, -65, -65, -65, -65, -66, -66, -66, -66, -66, -66, -66, -66, -67, -67, -67, -67, -67, -68, -68, -68, -69, -69, -69, -69, -69, -69, -70, -70, -70, -71, -71, -71, -71, -71, -71, -71, -72, -72, -72, -73, -73, -73, -73, -73, -73, -74, -74, -74, -74, -74, -74, -74, -75, -75, -76, -76, -76, -76, -77, -77, -77, -77, -77, -77, -78, -78, -78, -78, -79, -79, -80, -80, -80, -80, -80, -80, -80, -81, -81, -81, -81, -81, -81, -81, -82, -82, -82, -82, -83, -83, -83, -83, -83, -83, -83, -84, -84, -84, -84, -84, -84, -84, -84, -84, -84, -84, -85, -85, -85, -86, -86, -86, -87, -87, -87, -87, -87, -88, -88, -88, -88, -88, -89, -89, -89, -89, -89, -90, -90, -90, -90, -90, -90, -90, -91, -91, -91, -91, -91, -91, -92, -92, -92, -92, -93, -93, -93, -93, -93, -94, -94, -94, -95, -95, -95, -95, -96, -96, -96, -96, -96, -96, -96, -96, -97, -97, -97, -97, -98, -98, -98, -98, -98, -98, -98, -98, -98, -99, -99, -99, -100, -100, -100, -100, -100]
# [42, -89, 6, 73, 5, -59, 69, -26, 68, 88, 74, 93, -77, 44, 67, -77, 89, -81, -9, -17, -72, -16, 32, 57, -83, -44, 65, -26, -42, 9, 75, -79, 3, 5, 71, -50, 1, -60, -40, 48, -89, -43, 34, -21, -21, 16, 23, -92, 38, -48, -73, -10, 65, -29, 7, -93, -5, 29, -86, 20, 5, 62, 15, -48, 97, -100, 77, -22, 2, 100, 76, 0, -44, 92, 81, 27, 20, 85, 10, -93, -64, 39, 82, -20, -72, 65, -70, 97, 77, 73, -23, -42, -48, -96, 6, 30, -97, -80, 7, -85, -28, -28, -79, -48, 49, -21, 71, 38, -80, 51, 69, -6, 29, -17, -99, 43, 19, -33, -88, -75, -3, 38, 41, 88, -87, 77, -88, 85, 1, -88, -48, -49, -83, 4, 97, 56, -53, 96, -40, -18, 96, -90, -92, 40, -88, -60, -34, -61, -50, 24, -13, 34, 82, 25, 30, -10, 89, 78, -16, -74, 80, 3, -86, 97, -44, -17, 66, 44, -91, 48, -91, -3, 12, -85, 61, 8, 32, 40, 42, -30, -63, -46, -65, -95, -58, 93, -77, 10, -18, 62, -6, -61, 17, 35, 44, -32, -8, 70, 61, 81, 82, -71, -42, -37, 6, -23, 22, -82, -100, 71, -47, 24, 17, 85, 89, -86, 47, 91, 65, -84, 70, -43, -97, 54, -76, -55, 32, 60, -87, -25, -19, -71, -64, 64, 84, 28, 10, 13, -28, -98, 9, 24, 79, -26, -55, 94, 80, 81, 80, -35, -77, 23, -40, 14, -23, -16, 46, 85, -50, 76, -11, -43, 84, -62, -21, -71, -99, -64, 14, 47, -90, 48, -74, 31, -98, 67, 47, 32, -70, 52, -10, -18, 42, -73, -65, 65, 6, -100, 19, 99, 29, -79, 84, 26, 54, -96, -50, -65, -46, -7, 92, 79, 1, -29, -15, 15, 88, -61, 67, 28, -69, 18, 77, -42, 19, -85, -23, 61, 32, 50, 83, -44, -7, 8, 52, 90, 41, -42, 53, -81, 9, 85, 9, -8, -79, -98, 72, 37, 53, 25, -88, 86, 88, 84, 33, 88, 49, -20, -10, 1, 66, -51, -19, -95, -38, -43, -3, -58, -81, 87, 12, -50, 3, 81, -64, -53, -60, 64, 61, 51, -75, -5, -82, 41, -53, -59, -52, -85, 84, -45, 55, -82, 87, -17, 64, -36, 10, -96, -63, -23, 7, -29, 49, 53, 78, -61, -26, -41, 0, 30, 46, -20, -26, 77, -27, -23, -46, 29, 48, -51, -7, -55, -95, -20, -57, 94, -70, -20, 66, 3, -76, -22, -47, -87, 68, -50, -25, -76, 90, 93, 99, -60, -26, -10, 88, -49, -54, 35, -27, -99, 59, 53, -76, 62, 72, -32, 49, -33, 45, 62, -38, -75, -74, -21, -48, 70, 87, -86, 74, 62, -67, -91, 14, -89, -80, -16, 54, -89, 73, -93, 61, 92, -60, 97, -89, 42, 6, -46, 40, 71, -22, -50, 80, 100, -23, -10, 42, -77, 34, 37, 6, 97, 70, -43, -60, -19, 38, 41, 92, 39, -85, 6, -42, 21, -58, -52, 21, -46, -92, 22, -45, -59, 33, 44, 41, 56, -63, 35, 16, 1, 18, 57, -96, -9, 6, -28, -23, 66, 32, 57, 10, 68, 55, 39, 96, -86, 37, 10, -31, 84, 23, 73, -77, -76, -67, -76, 78, -95, -91, 32, -80, -47, 0, -98, -16, -91, -71, -9, -10, 26, -92, -59, 56, -61, 30, 60, -38, -37, -28, 79, -50, -31, 99, -63, -87, -89, -38, -49, 87, -11, 6, -14, -62, -20, 67, -35, -24, 77, 57, 32, -22, 35, -50, -14, -27, -82, 66, 64, -78, -30, -77, 18, -54, -99, -46, 60, 82, -40, 97, -26, 88, -25, 34, 72, -87, 92, 1, 37, -43, -66, 48, 29, -17, -40, 35, 54, 69, -52, -9, -65, -76, 13, 30, -11, 46, 28, -38, -85, -16, 58, -7, -59, -66, -56, 94, -34, 54, 80, -44, 42, -16, 69, 10, -54, -86, 24, 50, -76, 90, -82, -84, 49, 68, -1, -76, 44, 50, -98, -14, 24, 94, -8, 53, 90, 90, -30, 6, -72, -78, 53, -82, -23, 88, -10, -79, -38, -51, 24, 33, -54, 37, 84, -56, 92, -57, -14, -18, 6, 3, 28, 65, 6, 96, -11, 59, 41, 97, 57, 71, 10, 57, -66, 79, 84, -25, -66, -68, 9, 99, -94, -78, 93, -27, -25, -51, 90, 44, -1, -75, 18, -25, 11, -52, -63, -34, 31, -60, 68, -20, 62, -57, 21, 99, -41, 2, 59, 56, 72, 47, -95, -80, 6, 43, -91, 77, -54, 82, 46, -80, 69, 64, 85, 22, -61, -54, 88, -94, -3, 83, 88, -1, -10, 69, -38, 25, -79, 30, -14, 31, -47, -79, 92, -73, 70, 58, -24, 37, 18, -25, 18, -100, -21, 7, -13, 36, -2, 16, 77, 6, -70, 15, -79, 14, 96, -62, 17, -70, -38, -97, -36, 79, 75, -84, 83, -52, 66, -42, -12, -98, 82, 52, 81, 42, -17, -92, -6, 16, -8, -41, 28, 95, 52, -79, 83, 76, 36, 0, 25, -26, 71, -63, -78, -3, 63, -75, 23, 99, 86, -55, 15, -31, 61, -40, -77, 68, 19, 74, -65, 60, 42, -19, 91, 39, 85, -71, 86, 88, 87, 90, 15, 34, -90, -35, -55, -44, -83, 9, -31, -84, 30, 80, 91, -29, 61, -1, 84, 29, -16, -56, -28, 92, -27, -81, -31, -67, -83, -11, -51, 48, -73, 30, -53, -70, 27, 90, -77, -12, -81, 76, 24, -65, 60, 62, 52, -63, -97, 76, 40, -81, 40, 97, 69, 78, -56, -44, 29, -82, -38, 94, 38, -45, -38, 73, 98, 82, -30, 15, -41, -78, -33, 89, -36, -4, 5, -24, -87, 37, 81, 48, 81, 69, -43, -65, -41, 18, -52, 87, 97, 62, 11, 93, 89, -69, 2, 63, -37, 64, 31, -10, 57, -96, 40, 89, 66, -61, -76, 77, -50, 93, 63, 33, 62, 91, 13, 61, 22, 0, -79, -93, 88, 15, 66, -67, -33, -54, -4, -35, 35, 30, -72]
# 22.177396600018255
# 22.413280899985693
# 39.85052619999624
# 40.137146900000516
#
# Process finished with exit code 0